<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .content {
            padding: 30px;
        }

        .question-block {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .question-block label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        /* Text input styling */
        input[type="text"],
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        input[type="text"]:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Radio and checkbox styling */
        .option-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option input[type="radio"],
        .option input[type="checkbox"] {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .option-label {
            margin: 0;
            cursor: pointer;
            font-weight: 400;
            flex: 1;
        }

        /* Submit button */
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        /* Answer page styling */
        .answer-page {
            display: none;
            text-align: center;
        }

        .answer-page.active {
            display: block;
        }

        .answer-content {
            background: #f0f4ff;
            padding: 30px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
        }

        .answer-content h2 {
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .answer-content p {
            line-height: 1.8;
            color: #444;
            margin-bottom: 15px;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: #4caf50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .error-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: #f44336;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .error-message {
            background: #ffebee;
            border: 2px solid #f44336;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            color: #c62828;
            text-align: center;
        }

        .error-message h3 {
            margin-bottom: 10px;
        }

        .validation-question {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }

        .validation-question label {
            color: #856404;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .content {
                padding: 20px;
            }

            .question-block {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 1.3rem;
            }

            .content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ§ª Science Quiz</h1>
            <p>Answer the questions below to access the science answer</p>
        </div>

        <div class="content">
            <!-- QUIZ FORM -->
            <form name="science-quiz" method="POST" data-netlify="true" id="quizForm">
                <input type="hidden" name="form-name" value="science-quiz">

                <!-- TEMPLATE: WRITTEN ANSWER QUESTION -->
                <div class="question-block">
                    <label for="q1">1. What is your name?</label>
                    <input type="text" id="q1" name="question-1" required>
                </div>

                <!-- TEMPLATE: TEXT AREA (LONG ANSWER) -->
                <div class="question-block">
                    <label for="q2">2. Why do you need this science answer?</label>
                    <textarea id="q2" name="question-2" required></textarea>
                </div>

                <!-- TEMPLATE: SINGLE CHOICE (RADIO BUTTONS) -->
                <div class="question-block">
                    <label>3. How will you use this information?</label>
                    <div class="option-group">
                        <label class="option">
                            <input type="radio" id="q3a" name="question-3" value="Study" required>
                            <span class="option-label">For studying</span>
                        </label>
                        <label class="option">
                            <input type="radio" id="q3b" name="question-3" value="Homework">
                            <span class="option-label">For homework</span>
                        </label>
                        <label class="option">
                            <input type="radio" id="q3c" name="question-3" value="Research">
                            <span class="option-label">For research</span>
                        </label>
                        <label class="option">
                            <input type="radio" id="q3d" name="question-3" value="Other">
                            <span class="option-label">Other</span>
                        </label>
                    </div>
                </div>

                <!-- TEMPLATE: MULTIPLE CHOICE (CHECKBOXES) -->
                <div class="question-block">
                    <label>4. Which topics are you interested in? (Select all that apply)</label>
                    <div class="option-group">
                        <label class="option">
                            <input type="checkbox" id="q4a" name="topics" value="Physics">
                            <span class="option-label">Physics</span>
                        </label>
                        <label class="option">
                            <input type="checkbox" id="q4b" name="topics" value="Chemistry">
                            <span class="option-label">Chemistry</span>
                        </label>
                        <label class="option">
                            <input type="checkbox" id="q4c" name="topics" value="Biology">
                            <span class="option-label">Biology</span>
                        </label>
                        <label class="option">
                            <input type="checkbox" id="q4d" name="topics" value="Earth Science">
                            <span class="option-label">Earth Science</span>
                        </label>
                    </div>
                </div>

                <!-- TEMPLATE: VALIDATION QUESTION (MUST BE CORRECT TO ACCESS ANSWER) -->
                <div class="question-block validation-question">
                    <label>5. What is 2 + 2? (You must answer correctly to access the science answer)</label>
                    <div class="option-group">
                        <label class="option">
                            <input type="radio" id="q5a" name="validation-question" value="3" data-validation="incorrect" required>
                            <span class="option-label">3</span>
                        </label>
                        <label class="option">
                            <input type="radio" id="q5b" name="validation-question" value="4" data-validation="correct">
                            <span class="option-label">4</span>
                        </label>
                        <label class="option">
                            <input type="radio" id="q5c" name="validation-question" value="5" data-validation="incorrect">
                            <span class="option-label">5</span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Submit & Get Answer</button>
            </form>

            <!-- ANSWER PAGE (SHOWN AFTER SUBMISSION) -->
            <div class="answer-page" id="answerPage">
                <div class="success-icon">âœ“</div>
                <h2>Thank you for completing the quiz!</h2>
                
                <div class="answer-content">
                    <h2>ðŸ“š Science Answer</h2>
                    
                    <!-- TEMPLATE: EDIT YOUR SCIENCE ANSWER HERE -->
                    <p><strong>Question:</strong> What is the chemical formula for water?</p>
                    <p><strong>Answer:</strong> Hâ‚‚O (two hydrogen atoms bonded to one oxygen atom)</p>
                    
                    <p><strong>Explanation:</strong></p>
                    <p>Water is a polar molecule composed of two hydrogen atoms covalently bonded to one oxygen atom. The oxygen atom is more electronegative, creating a partial negative charge on the oxygen and partial positive charges on the hydrogens. This polarity makes water an excellent solvent and gives it unique properties such as high surface tension, high specific heat capacity, and the ability to form hydrogen bonds.</p>
                    
                    <p><strong>Additional Information:</strong></p>
                    <p>Water covers approximately 71% of Earth's surface and is essential for all known forms of life. It exists in three states: solid (ice), liquid (water), and gas (water vapor). Water has a density of 1 g/cmÂ³ at 4Â°C and expands when it freezes, which is why ice floats on water.</p>
                    
                    <!-- ADD MORE SCIENCE CONTENT HERE AS NEEDED -->
                </div>
            </div>

            <!-- ERROR PAGE (SHOWN WHEN VALIDATION FAILS) -->
            <div class="answer-page" id="errorPage">
                <div class="error-icon">âœ•</div>
                <h2>Access Denied</h2>
                
                <div class="error-message">
                    <h3>Incorrect Answer</h3>
                    <p>Unfortunately, you answered the validation question incorrectly.</p>
                    <p>You cannot access the science answer at this time.</p>
                    <p style="margin-top: 15px; font-size: 0.9em;">Please try again with the correct answer.</p>
                </div>

                <button class="submit-btn" id="tryAgainBtn" style="margin-top: 20px;">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        // Handle form submission
        document.getElementById('quizForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check validation question
            const validationInputs = document.querySelectorAll('input[name="validation-question"]');
            let isValid = false;
            
            validationInputs.forEach(input => {
                if (input.checked && input.dataset.validation === 'correct') {
                    isValid = true;
                }
            });
            
            // If validation fails, show error without submitting to Netlify
            if (!isValid) {
                document.getElementById('quizForm').style.display = 'none';
                document.getElementById('errorPage').classList.add('active');
                return; // Don't submit the form
            }
            
            // Only submit to Netlify if validation passes
            const formData = new FormData(this);
            
            fetch('/', {
                method: 'POST',
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: new URLSearchParams(formData).toString()
            })
            .then(() => {
                // Hide form and show answer
                document.getElementById('quizForm').style.display = 'none';
                document.getElementById('answerPage').classList.add('active');
            })
            .catch((error) => {
                alert('Error submitting form. Please try again.');
                console.error('Error:', error);
            });
        });

        // Handle try again button
        document.getElementById('tryAgainBtn').addEventListener('click', function() {
            // Hide error page
            document.getElementById('errorPage').classList.remove('active');
            
            // Show form again
            document.getElementById('quizForm').style.display = 'block';
            
            // Scroll to validation question
            const validationQuestion = document.querySelector('.validation-question');
            if (validationQuestion) {
                validationQuestion.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });
    </script>
</body>
</html>