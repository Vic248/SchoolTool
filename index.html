<!DOCTYPE html>
<html lang="fr-CA">
<head>
    <title>Accueil</title>
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
    <style>
        body {
            background-color: #f5f7fa;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding-top: 10px 10px;
        }

        #menu-btn {
            position: fixed;
            top: 10px;
            left: 10px;
            background-color: #333;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            z-index: 1000;
        }
        
        #menu-btn:hover {
            background-color: #555;
        }

        #menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background-color: #333;
            color: white;
            padding-top: 50px;
            transition: left 0.3s;
            z-index: 999;
        }

        #menu a {
            display: block;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
        }

        #menu a:hover {
            background-color: #555;
        }

        #menu.close {
            left: -250px;
        }
        
        #menu.open {
            left: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 28px;
            }
        }

        center {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        h1 {
            font-size: 100px;
        }

        #text-container {
            text-align: center;
        }
    </style>
</head>
<body>
    <a href="314159265358979323846.html" accesskey="s"></a>

    <button id="menu-btn">Menu</button>

    <div id="menu" class="close">
        <a href="index.html">Accueil</a>
        <a href="CountDown.html" accesskey="c">Compte à rebours</a>
        <a href="Clock.html">Horloge</a>
        <a href="RogerTest.html">Game Test</a>
        <a href="Schedule.html">Horaire</a>
        <a href="Clicker.html">Clicker</a>
        <a href="JoffreHomeScreen.html">Joffre</a>
        <a href="suggestionForm.html">Suggestion</a>
        <a href="snake.html">Snake</a>
        <a href="https://www.mozaikportail.ca" accesskey="m">Mozaik</a>
    </div>

    <a href="https://www.bonk.io" accesskey="w"></a>

    <button id="login">Login</button>
    <button id="logout">Logout</button>
    <pre id="profile"></pre>

    <div id="text-container">
        <h1>Accueil</h1>
    </div>

    <script>
        document.getElementById("menu-btn").addEventListener("click", function() {
            const menu = document.getElementById("menu");
            if (menu.classList.contains("open")) {
                menu.classList.remove("open");
                menu.classList.add("close");
            } else {
                menu.classList.remove("close");
                menu.classList.add("open");
            }
        });

        let auth0 = null;

        const initAuth0 = async () => {
        auth0 = await createAuth0Client({
            domain: "schooltool.ca.auth0.com",
            client_id: "qbdK5IqBjfrRs3xLQvhSziekXNt9bXwr",
            cacheLocation: 'localstorage'
        });

        // Gérer redirection après login
        if (window.location.search.includes("code=")) {
            await auth0.handleRedirectCallback();
            window.history.replaceState({}, document.title, "/");
        }

        const isAuthenticated = await auth0.isAuthenticated();

        if (isAuthenticated) {
            const user = await auth0.getUser();
            document.getElementById("profile").textContent = JSON.stringify(user, null, 2);
        }
        };

        window.onload = async () => {
        await initAuth0();

        document.getElementById("login").onclick = () => auth0.loginWithRedirect({
            redirect_uri: window.location.origin
        });

        document.getElementById("logout").onclick = () => auth0.logout({
            returnTo: window.location.origin
        });
        };
    </script>
</body>
</html>